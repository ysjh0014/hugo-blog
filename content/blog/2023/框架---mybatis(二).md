---
title: "框架---mybatis(二)"
date: 2018-03-25 19:09:25
draft: false
---
入门练习: 对订单商品中的用户进行增删改查操作：

根据用户ID查询用户信息，根据用户名称模糊查询用户列表，添加用户，删除用户，修改用户

环境准备: mybatis框架的下载，数据库脚本的引入，项目的搭建

![](https://img-blog.csdn.net/20180325185942245)

lib是mybatis的依赖包，mybatis-3.4.6.jar是核心包，mybatis-3.4.6.pdf是操作指南

数据库脚本的引入使用命令行先登录进mysql,然后输入 source 数据库脚本路径

项目的搭建主要是jar包引入以及xml文档的创建:

全局配置文件和映射文件的基础配置模板都可以在操作指南的pdf文档中找到

**代码实战：**

1.首先创建po类

![](https://img-blog.csdn.net/20180326082856407)

2.创建全局配置文件

![](https://img-blog.csdn.net/20180326083126825)

3.需求实现，即对表的增删改查

这里需要先创建dao接口和实现类，然后再创建映射文件，再在全局配置文件中加载映射文件，最后才是测试代码

源代码会保存在github上，有兴趣的可以查看，这里不细说

4.小结

/#{}和${}

/#{}表示占位符?，/#{}接收简单类型的参数时，里面的名称可以任意

${}表示拼接符，${}接收简单类型的参数时，里面的名称必须是value

${}里面的值会原样输出，不加解析（如果该参数值是字符串，有不会添加引号）

${}存在sql注入的风险，但是有些场景下必须使用，比如排序后面会动态传入排序的列名

parameterType和resultType:

parameterType指定输入参数的java类型，parameterType只有一个，也就是说入参只有一个。

resultType指定输出结果的java类型（是单条记录的java类型）

selectOne和selectList:

selectOne查询单个对象

selectList查询集合对象